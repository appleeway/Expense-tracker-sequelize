<!-- ./views/index.handlebars -->

<!-- record summary -->
<div class="container mt-5">
  <div class="row">
    <div class="col-10 mx-auto text-center bg-white">
      <div class="list-group list-group-flush col-8 m-auto d-block mb-3 ">
        <div class="text-left">
          <h4>總金額：</h4>
        </div>
        <div class="text-right text-warning lead mr-5">
          <h1>{{totalAmount}}</h1>
        </div>
        {{#each records}}
        <div class="list-group-item {{#ifEven this.id}}list-group-item-secondary{{/ifEven}} ">
          <div class="row ">
            {{#ifEquals this.category 'home'}}
            <div class="d-inline-block col-1 my-auto ml-3" style="font-size: 35px">
              <i class="fas fa-home"></i>
            </div>
            {{/ifEquals}}

            {{#ifEquals this.category 'traffic'}}
            <div class="d-inline-block col-1 my-auto ml-3" style="font-size: 35px">
              <i class="fas fa-car"></i>
            </div>
            {{/ifEquals}}

            {{#ifEquals this.category 'entertainment'}}
            <div class="d-inline-block col-1 my-auto ml-3" style="font-size: 35px">
              <i class="fas fa-gamepad"></i>
            </div>
            {{/ifEquals}}

            {{#ifEquals this.category 'food'}}
            <div class="d-inline-block col-1 my-auto ml-3" style="font-size: 35px">
              <i class="fas fa-utensils"></i>
            </div>
            {{/ifEquals}}

            {{#ifEquals this.category 'other'}}
            <div class="d-inline-block col-1 my-auto ml-3" style="font-size: 35px">
              <i class="fas fa-align-left"></i>
            </div>
            {{/ifEquals}}

            <div class="d-inline-block col-3 text-left ml-2">
              <h4>{{this.name}}</h4>
              <span>{{this.date}}</span>
            </div>
            <div class=" d-inline-block col-1 my-auto mr-5">
              <span style="font-size: 20px; line-height:60px;">{{this.amount}}</span>
            </div>

            <div class="mt-2 mx-auto">
              <a class="btn btn-outline-primary" href="/records/{{this.id}}/edit">修改</a>
              <!-- Button trigger modal -->
              <a class="btn btn-outline-danger ml-3" data-toggle="modal" data-target="#trigger-deleteItem-{{this.id}}"
                href="#">刪除</a>

            </div>
          </div>
        </div>

        {{!--  刪除動作 --}}
        <div class="modal fade" id="trigger-deleteItem-{{this.id}}" tabindex="-1" role="dialog">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-body">
                <big class="font-weight-bold">確定要刪除【 {{this.name}} 】的支出紀錄嗎?</big>
              </div>
              <div class="modal-footer">
                <form action="/records/{{{this.id}}}?_method=DELETE" method="POST">
                  <button type="button" class="btn btn-secondary" data-dismiss="modal">關閉</button>
                  <button type="submit" class="btn btn-danger">刪除</button>
                </form>
              </div>
            </div>
          </div>
        </div>

        {{/each}}

        <div class="col-10 mx-auto d-block mb-3">
          <a class="btn btn-secondary btn-lg btn-block mt-5" href="/records/new">新增支出</a>
        </div>
      </div>
    </div>
  </div>
</div>